# Device Tree Blobs (DTBs)

This directory contains Device Tree Blob (DTB) files for different hardware platforms.

## Current DTB files

- `qemu-virt.dtb`: Placeholder for QEMU virt machine
- `rpi4.dtb`: Placeholder for Raspberry Pi 4 Model B
- `surface.dtb`: Placeholder for Microsoft Surface devices
- `apple-m2.dtb`: Placeholder for Apple M2 devices

## How to obtain real DTB files

1. **QEMU virt machine**: DTB can be generated by QEMU itself:
   ```
   qemu-system-aarch64 -machine virt,dumpdtb=virt.dtb
   ```

2. **Raspberry Pi 4**: Use the DTB from Raspberry Pi firmware:
   - Download from: https://github.com/raspberrypi/firmware/tree/master/boot
   - File: `bcm2711-rpi-4-b.dtb`

3. **Microsoft Surface**: Check Linux kernel sources for Surface DTBs:
   - Path: `arch/arm64/boot/dts/microsoft/`

4. **Apple M2**: Use the DTB from Asahi Linux project:
   - https://github.com/AsahiLinux/linux/tree/asahi/arch/arm64/boot/dts/apple

## Build system integration

The configuration system will automatically copy the appropriate DTB file to the build directory when running `configure.py`.

Board configuration files in `configs/board/` can specify the DTB filename using the `dtb` field:

```toml
[dtb]
filename = "qemu-virt.dtb"
required = true
```

If `required` is true and the DTB file is not found, the build will fail.