# configs/arch/aarch64.toml
[arch]
name = "aarch64"
data-layout = "e-m:e-i8:8:32-i16:16:32-i64:64-i128:128-n32:64-S128"
features = ["+strict-align", "+neon", "+fp-armv8"]
endian = "little"  # 新增：字节序

[memory]
page_size = 4096
kernel_base = "0xffff000000000000"
user_base = "0x0000000000400000"
physical_base = "0x40000000"  # 新增：物理基地址
stack_size = 65536  

# 新增：设备默认地址
[devices.uart]
base = "0x09000000"
driver = "pl011"

[devices.gic]
distributor_base = "0x08000000"
cpu_interface_base = "0x08010000"
version = "v2"


[kernel]
max_processes = 256
max_threads = 1024
max_handles_per_process = 1024