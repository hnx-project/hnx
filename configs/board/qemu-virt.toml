# configs/board/qemu-virt.toml
# QEMU Virt 机器配置

[machine]
name = "virt"
cpu = "cortex-a72"  # ARM64 默认
memory = "512M"

[devices]
# 设备列表，每行一个设备
virtio-gpu = "-device virtio-gpu-pci"
virtio-keyboard = "-device virtio-keyboard-pci"
virtio-mouse = "-device virtio-mouse-pci"
virtio-net = "-device virtio-net-device,netdev=net0"
virtio-blk = "-device virtio-blk-device,drive=hd0"

# 板级特定设备地址（可选，如果与默认不同）
[devices.uart]
base = "0x09000000"

[devices.gic]
distributor_base = "0x08000000"
cpu_interface_base = "0x08010000"

[qemu]
machine_type = "virt"
cpu_type = "cortex-a72"
acceleration = "kvm"  # 如果可用

[network]
enabled = true
netdev = "user,id=net0,hostfwd=tcp::2222-:22"

[kernel]
# 内核启动参数
args = "console=ttyAMA0 root=/dev/ram0 init=/init quiet"
earlycon = "pl011,0x09000000"

[description]
text = "QEMU Virt machine - Generic virtual platform"
url = "https://www.qemu.org/docs/master/system/arm/virt.html"